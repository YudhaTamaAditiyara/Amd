!function(){"use strict";function t(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i=function(){this.handlers={},this.waitings={}};i.prototype={constructor:i,exists:function(t){return e(this.handlers,t)},require:function(t){if(!this.exists(t))throw new Error('The module "'+t+'" is not defined.');return this.handlers[t].require()},define:function(t,e,i,r){var o=new s(t,e,i,r);if(this.exists(o.name))throw new Error('The module "'+t+'" is already defined.');this.handlers[o.name]=new n(this,o),this.handlers[o.name].define()}};var n=function(t,e){this.amd=t,this.module=e,this.exports=null,this.waiting=0};n.prototype={constructor:n,define:function(){this.module.flags&s.EXECUTE&&this.execute();var t=this,e=setTimeout(function(){clearTimeout(e),t.resolve()},10)},require:function(){if(null!=this.exports)return this.exports;if(this.execute(),this.waiting>0)throw new Error('The module "'+this.module.name+'" still waiting for dependencies.');return this.exports},execute:function(){if(null!=this.exports)return this.exports;for(var t=[],i=this.exports=this.module.exports,n=this.waiting=this.module.dependencies.length,s=0;s<n;++s){var r=this.module.dependencies[s];if(e(this.amd.handlers,r)){var o=this.amd.handlers[r].execute();if(null!=o){t.push(o),this.waiting--;continue}}this.amd.waitings[r]||(this.amd.waitings[r]={}),this.amd.waitings[r][this.module.name]||(this.amd.waitings[r][this.module.name]=this)}return this.waiting?i=null:(null==(i=this.module.callback.apply(this.module,t))&&(i=this.module.exports),null==i&&(i=this.exports)),this.exports=i,i},resolve:function(){var t=this.amd.waitings[this.module.name];if(t)for(var e in delete this.amd.waitings[this.module.name],t){var i=t[e];--i.waiting||(i.module.flags&s.EXECUTE?i.execute():i.resolve())}}};var s=function(e,i,n,r){t(e,"String")||(r=n,n=i,i=e,e="noname:"+(new Date).getTime()),t(i,"Array")||(r=n,n=i,i=[]),this.name=e,this.dependencies=i,this.callback=n,this.flags=r>>0||s.WAITING,this.exports={}};s.EXECUTE=1,s.WAITING=2,s.prototype={constructor:s},window.Amd=window.Amd||i}();
